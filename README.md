# 1. 반려동물 데이터분석을 통한 새로운 서비스 기획

 **반려동물 데이터를 이용하여 여행에 반려동물이 중심이 되는 OTA 카테고리 서비스를 기획했다.**
 
 **신규 서비스 / 맞춤추천 / 사업성 , 3개의 솔루션을 제안한다 (클릭하시면 해당 제안으로 이동)**

1. [[제안 1] 애견동반 서비스 카테고리 메인 노출 (가칭 : 개버랜드)](https://www.notion.so/Main-project-2-Suggetion-for-OTA-3323471d011949468414baad2df56c0a)
2. [[제안 2] 체중 별 맞춤 애견 동반 숙박지 및 근처 놀거리 추천](https://www.notion.so/Main-project-2-Suggetion-for-OTA-3323471d011949468414baad2df56c0a)

---

# 2. 반려동물 관련 서비스 기획의 이유

## [문제의식]

 반려동물 관련 산업이 외연을 넓혀가는 가운데, 여행 수요 급증 속 반려견 동반 여행은 정부와 지자체, 민간에서모두 주목하고 있는 사안이다.  
 
 반려동물은 더 이상 소유물이 아닌 우리의 가족으로 인식되고 있다. 
 
 이와 관련한 산업들에서 다양한 상품들을 제안하고 있으며 **여행/숙박 업계에서 주목하고 있다.**

![image](https://user-images.githubusercontent.com/102460827/180960783-dddf9792-ed35-4673-91bf-2f6be76693dd.png)

 **[정량적 데이터를 통한 분석]**
 
 반려 동물 동반 여행과 관련한 수요의 내부 데이터로 서비스 제안에 대한 주장을 뒷받침 하고 싶었지만
 
 **커머셜 데이터를 구하기 어려워 주요 검색 채널에서의 애견 동반 키워드 언급량 추이로 그 니즈를 파악해 보았다.** 
 
 금년 6월 검색량 이 전년 동월 대비 감소한 것으로 보일 수 있으나  2주 간의 데이터만 들어가 있다. 

![image](https://user-images.githubusercontent.com/102460827/180960812-2068bdf2-db6c-4660-b6e9-d1d036b1ec6f.png)

![image](https://user-images.githubusercontent.com/102460827/180960824-410b76c4-5b79-43fe-93b5-cd576997c8a2.png)
 
 반려동물을 많이 키우는 2-30대들이 많은 **인스타그램 키워드**를 재 분석해 보았다.
 
 **메인 키워드를 애견동반, 서브키워드를 식당, 여행 , 카페**로 선정해 그 수요를 확인하였다. 

![image](https://user-images.githubusercontent.com/102460827/180960844-576137c5-9b53-4e90-92ef-da61945fcb66.png)
---

 **[정성적데이터를 통한 분석]**
 트위터(셀레니움) / 네이버 블로그 / 네이버 카페 (API) 3곳을 크롤링 후 워드클라우드를 이용하여 시각화 하였다.   
 
 애견동반이라는 키워드로 진행하였으며 **글자의 크기가 클수록 애견 동반과 함께 언급된 단어**이다. 
 
 **반려동물과 함께 할 수 있는 장소, 액티비티에 대한 수요가 많다.**

![image](https://user-images.githubusercontent.com/102460827/180960875-495322ae-e8b1-41e2-b637-820b5f73f06a.png)

![image](https://user-images.githubusercontent.com/102460827/180960889-ae821fb2-7f04-4dff-ab0d-fb3be12264d2.png)

 **[국가기관 리포트 분석]**
 한국관광공사의 통계자료에 따르면 반려동물 동반여행의 장애요인으로는 숙박시설 부족이 1위이다. 
 
 동반 여행 정보를 얻을 수 있는 정보원으로 응답한 것은 가족, 친구, 친지이다. 
 
 OTA업계는 숙박시설 제공하고 있음에도 불구하고 왜 이렇게 응답했을지에 대해 가설을 세워보았다. 
 
 반려동물 동반이 가능한 숙박시설도 부족할 뿐만 아니라 아니라 앱 페이지 뒷단에 있어 관련 정보를 얻기가 어려워 그렇게 응답한 것이라고 해석했다.
 
 즉 , **국내 OTA 업계는 고객의 페인 포인트가 얼마나 심각한지 잘 인지하지 못하고 있다**는 결론을 내렸다. 

![image](https://user-images.githubusercontent.com/102460827/180960909-fcb4cb04-c28c-4a40-a6fe-df389e5d96c3.png)

 2020년 인구 총 조사를 통해 밝혀진 반려동물양육가구는 총 가구의 14.7 퍼센트 약 310만 가구이다. 
 
 한국관광공사에서 공개한 2020년 관광 총매출은 8조 2024억이며 반려동물 동반 여행 1회당 60만원의 비용이 요구된다. 
 
 위의 **거시적 데이터를 결합하여 반려동물 양육가구의 여행비용을 추산**해보았다. 
 
 **대한민국 총 가구의 14.7%가 관광산업 총 매출의 23.03%를 차지한다**는 것은 **유의미한 수치이다.**

[서비스 당위성 - 국가기관에서도 주목하는 시장 잠재력 (통계학적 관점)]

![image](https://user-images.githubusercontent.com/102460827/180960937-15ed700d-a843-4b86-be04-b3ae6684d817.png)


---

## [OTA 업계 현황]

 앱 실행 후 로드되는 첫 페이지이다. 메인에서 반려동물과 관련한 숙박/여행 상품 카테고리를 찾을 수 없다.

실제로 야놀자에서 제공하는 반려동물 동반 숙소는 전체의 0.1 %

![image](https://user-images.githubusercontent.com/102460827/180960960-fca727f9-bd6c-4ced-9101-631abbaa0380.png)

![image](https://user-images.githubusercontent.com/102460827/180960976-0a2dbe69-bb30-4847-a5f3-4940d3a1ad95.png)
---

# **3. BM 분석**

 OTA 서비스는 숙박업체와 여행자 사이를 **중개하여 발생하는 수수료**로 수익을 창출한다.
 
 야놀자 같은 경우 **전체 매출의 3분의 1이 예약 수수료**에서 발생한다  
 
![image](https://user-images.githubusercontent.com/102460827/180960992-fddd87c3-34b7-4284-9d76-5be9838e8ab0.png)
![image](https://user-images.githubusercontent.com/102460827/180961002-470afb39-1729-42c7-8b77-3507a7eb527f.png)
---

# **4. Project 설계 과정**

 데이터 분석방법론 Crisp-DM을 통해 프로젝트 과정에서 어느 단계에 있는지 쉽게 확인 할 수 있었다. 
 이 방법론으로 비즈니스 이해 / 데이터 이해 / 데이터 준비 / 모델링 / 모델 평가 , 5단계로 프로젝트를 진행했다.

데이터 이해 단계에서는 공공데이터인 강원도 반려견 동반 숙박, 여행지 데이터와 유기견 데이터를 통해서 반려동물과 관련한 데이터를 수집하였고 
EDA를 통해 실제 수집된 데이터의 유효성을 검증하였다.  
모델링을 진행하면서  갖고있는 **데이터의 특성상 Y값이 없어 비지도 학습을 해야 한다**는 제약이 있었다. 
비지도 학습의 여러가지 모델을 비교 후 K-means방식을 채택했다. 
모델링과 평가 단계를 반복하며 클러스터의 갯수도 조정해 보고 , 차원축소 , tsne까지 진행하는 다양한 분석 과정을 거쳤다.
![image](https://user-images.githubusercontent.com/102460827/180961053-bf2659ee-0160-4f23-9465-cb6911a9b04d.png)
---

# 5. 비즈니스 솔루션 제안

## [제안 1]  애견 동반 서비스 카테고리 메인노출 (가칭: 개버랜드)

 OTA시장 특성상 고객의 앱 충성도가 상대적으로 낮은 데다 아직 절대 강자가 없으며 1위 업체라도 한순간에 경쟁사에 역전당할 수 있다. 
 탄탄한 수요를 가지고 있는 펫팸족을 끌어온다면 안정적인 매출을 낼 수 있다 

![image](https://user-images.githubusercontent.com/102460827/180961088-f75b4d89-49ee-4769-89f0-f9c854f0a5db.png)

---

## [제안 2] 군집을 통한 체중 별 맞춤 애견동반 숙박지 및 근처 놀거리 추천

 문제의식에서 언급한  “반려인들은  반려견을 중심으로 여행지를 고려한다”는 것을 반영하여
 **반려견 중심의 숙박지를 추천**하고자 하였다. 더불어 숙박지를 기준으로 주변의 즐길거리를 카테고리화 하여
 해당 숙소 페이지 하단에 노출시키고자 했다. 

### [분석2] 군집분석을 통한 체중 별 맞춤 애견 동반 숙박지 추천

 **군집결과와 추천할 숙박지와의 연결고리를 체중에서 찾았다. (체중 별 숙박 가능한 숙박지를 추천해주는 서비스)**
 일반적으로 숙박지에서 반려견을 받는 기준는 크기(소/중/대) 혹은 체중이었는데 크기 기준이 모두 다르고
 반려견의 품종 혹은 나이를 고려하지 않아서 소/ 중/ 대는 모든 체중의 스펙트럼을 담기 어려웠다.
 군집분석을 통하여 기준을 **소/중/대/초대형견** 으로 좀 더 세부적으로 나눌 수 있었다.
 (일반적인 소/중/대 분류(7kg 미만 / 15kg 미만 / 15kg이상))

![image](https://user-images.githubusercontent.com/102460827/180961516-e12d5bb9-4a3a-4001-8dd5-2f3168b4f63b.png)
![image](https://user-images.githubusercontent.com/102460827/180961660-8702be1a-f2b6-4721-9bfc-d9351fd5868f.png)

[**[표본]** 7826rows 

**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)

**[분석방법]**  K-Means (n_clusters = 3) 

**[피쳐]** 나이 / 산책시간 / 체중 / 음수량 / 성별_라벨링 / 중성화_라벨링 / 크기_라벨링 

(범주형 변수 중 계층 데이터는 원 핫 인코딩 , 수평 데이터는 라벨 인코딩으로 변환해주었다)

**[분석결과]** 

1) barplot 시각화 : **체중을 기준으로 군집**이 되었다 

2) scatterplot 시각화: 군집 별 중앙값을 확인해보면 최선의 군집이라는 판단을 내렸다]

---

 위의 군집분석이 나오기 까지 다양한 방법으로 시도해 보았다.

**- 시도 1**

**[표본]** 2088 rows 

**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)

**[분석방법]**  PCA → K-Means (n_clusters = 3)

**[피쳐**] 크기(라벨링) / 나이 / 산책시간 / 체중 / 음수량

범주형 변수 중 계층 데이터는 원 핫 인코딩을 사용했다.

**[분석결과]** 

1) barplot 시각화 : 그룹 별 나이 평균 구분이 어렵다

2) scatterplot : 그룹 간 거리가 너무 가깝고 분산의 정도가 겹치는 데이터들이 많아 올바른 군집이라 할 수 없다.

![image](https://user-images.githubusercontent.com/102460827/180961888-027e4cc3-8044-4d6a-be40-6bcd7faea1af.png)



**- 시도 2** (시도 1에서 사용된 **표본의 수를 늘렸다**) 

**[표본]** **7826 rows** 

**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)

**[분석방법]**  PCA → K-Means (n_clusters = 3)

**[피쳐]** 크기(라벨링) / 나이 / 산책시간 / 체중 / 음수량

범주형 변수 중 계층 데이터는 원 핫 인코딩을 사용했다.

**[분석결과]**

1) barplot 시각화 : .나이를 기준으로 군집되었다.

2) scatterplot : 그룹 간 거리가 너무 가깝고 분산의 정도가 겹치는 데이터들이 많아 올바른 군집이라 할 수 없다 

![image](https://user-images.githubusercontent.com/102460827/180962142-09658ec8-0a1e-4666-8e27-4c174c2b6f6d.png)



**- 시도 3** 

피쳐의 수가 작다고 판단하여 **차원축소를 하지 않고** 정확한 시각화를 위해 **T-sne를 진행**하였다

**[표본]** 7826 rows 

**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)

**[분석방법]**  K-Means  →  T-sne (n_clusters = 3)

**[피쳐]** 크기(라벨링) / 나이 / 산책시간 / 체중 / 음수량

범주형 변수 중 계층 데이터는 원 핫 인코딩을 사용했다

**[분석결과]** 

1) barplot 시각화 : 체중을 기준으로 군집이 되었다. 

2) scatterplot : 그룹 1의 값들이  좌/우로 분포되어 있어 군집이 형성되었다고 보기 어렵다.

![image](https://user-images.githubusercontent.com/102460827/180962161-d3ba8de0-df65-46bd-8146-f5e849262742.png)



**- 시도 4**
(시도 3 이어서)  **n_clusters = 4**로 변경해보았다
**[표본]** 7826 rows 
**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)
**[분석방법]**   K-Means  →  T-sne (n_clusters = 4)
**[피쳐]** 크기(라벨링) / 나이 / 산책시간 / 체중 / 음수량
범주형 변수 중 계층 데이터는 원 핫 인코딩을 사용했다

**[분석결과]** 

1) barplot 시각화 : 체중을 기준으로 군집이 되었다. 

2) scatterplot : 시도 3의 그룹1이 두개로 쪼개질 것이라고 예상하고 그래프를 그렸으나 군집이 형성되었다고 보기 어렵다는 결론을 내렸다
![image](https://user-images.githubusercontent.com/102460827/180962182-4746c22d-6649-425b-9f8b-f1893fd95558.png)


**- 시도 5** 

라벨 인코딩을 활용해 **2개의 피쳐를 추가**하였다

**[표본]** 7826rows 

**[데이터 출처]** 유기 동물 보호 현황(경기데이터드림)

**[분석방법]**  K-Means (n_clusters = 3) 

**[피쳐]** 나이 / 산책시간 / 체중 / 음수량 / 

**성별_라벨링 / 중성화_라벨링** / 크기_라벨링 

범주형 변수 중 계층 데이터는 원 핫 인코딩 , 

수평 데이터는 라벨 인코딩으로 변환을 진행하였다]

**[분석결과]** 

1) barplot 시각화 : 체중을 기준으로 군집이 되었다 

2) scatterplot : 군집별 중앙값을 확인해보니 **라벨 0을 두개의 그룹으로 한번 더 나눌 수 있을 것 같다**고 판단했다

![image](https://user-images.githubusercontent.com/102460827/180962202-38434922-32a0-4472-8528-4ba3d0088a73.png)
![image](https://user-images.githubusercontent.com/102460827/180962220-8bdc1db9-480f-4960-8e69-c5840560809c.png)


---

# **부록**  - 앱 서비스 대신 웹으로 가볍게 구축해보았다

![page 1) background와 빈칸 상자에 데이터를 입력하지 않으면 오류가 뜨게 만들었다.]
![image](https://user-images.githubusercontent.com/102460827/180962291-c8faff38-b4de-4103-9efc-f1bfeff57648.png)
![image](https://user-images.githubusercontent.com/102460827/180962309-22409bea-9ecc-4670-8ee4-0a1f5d43c8b5.png)


page 2) 지도 api 구현
![image](https://user-images.githubusercontent.com/102460827/180962887-2325dfa8-ca9b-4025-91bb-a65d00c28892.png)

HTML
![image](https://user-images.githubusercontent.com/102460827/180963048-bd51c919-c026-4595-9fc6-521dccee8cd3.png)
![image](https://user-images.githubusercontent.com/102460827/180963068-6214d3af-b1d4-42d6-98b7-e9a5dc76eca5.png)

CSS 
![image](https://user-images.githubusercontent.com/102460827/180962466-db0d055b-d269-4c46-95ad-1be39e554d0a.png)

Views.py
![image](https://user-images.githubusercontent.com/102460827/180962510-58b3f24c-b9c4-4c5d-a73e-867a20b726cf.png)

